{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,uCAKA,MAAMC,EAAkBC,SAASC,cAAc,mBAE/C,IAAIC,EAAgBC,KAAKC,MAAMC,aAAaC,QAAQ,oBAAsB,GACtEC,EAAcJ,KAAKC,MAAMC,aAAaC,QAAQ,kBAAoB,GAClEE,EAAqBR,SAASC,cAAc,kBAEhDQ,eAAeC,EAAiBC,GAC9B,IAKE,aAJuBd,EAAAe,QAAMC,IAC3B,sCAAsCF,mBACtCG,EAAAC,UAEcC,I,CAChB,MAAOC,GACPC,QAAQD,MAAMA,E,EAIlBR,eAAeU,IACbpB,EAAgBqB,UAAY,GAC5BC,EAAYC,UAAUC,OAAO,0BAC7BC,EAAcF,UAAUG,IAAI,0BACA,GAAxBvB,EAAcwB,OAChBlB,EAAmBmB,MAAMC,QAAU,OAEnCpB,EAAmBmB,MAAMC,QAAU,QAGrC,MAAMC,QAA6BC,QAAQC,IACzC7B,EAAc8B,KAAIvB,MAAME,SAAYD,EAAiBC,OAGvD,EAAAsB,EAAAC,kBAAiBL,EAAsB9B,E,CAoBzCC,SAASmC,iBAAiB,mBAAoBhB,GAE9C,MAAMK,EAAgBxB,SAASC,cAAc,kBACvCoB,EAAcrB,SAASC,cAAc,gBAE3CuB,EAAcW,iBAAiB,QAAShB,GACxCE,EAAYc,iBAAiB,SAvB7B1B,iBACEV,EAAgBqB,UAAY,GAC5BC,EAAYC,UAAUG,IAAI,0BAC1BD,EAAcF,UAAUC,OAAO,0BACL,GAAtBhB,EAAYmB,OACdlB,EAAmBmB,MAAMC,QAAU,OAEnCpB,EAAmBmB,MAAMC,QAAU,QAGrC,MAAMQ,QAA2BN,QAAQC,IACvCxB,EAAYyB,KAAIvB,MAAME,SAAYD,EAAiBC,OAGrD,EAAAsB,EAAAC,kBAAiBE,EAAoBrC,E,IAWvCA,EAAgBoC,iBAAiB,QAASE,EAAAC","sources":["src/js/library-functionality.js"],"sourcesContent":["import axios from 'axios';\nimport { options } from './options.js';\nimport { renderMovieCards } from './render-movies.js';\nimport { fetchMovie } from './fetch-movie.js';\n\nconst moviesContainer = document.querySelector('.movies-gallery');\n\nlet watchedMovies = JSON.parse(localStorage.getItem('movies-Watched')) || [];\nlet queueMovies = JSON.parse(localStorage.getItem('movies-Queue')) || [];\nlet emptyStorageScreen = document.querySelector('.section-empty');\n\nasync function fetchSingleMovie(id) {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/movie/${id}?language=en-US`,\n      options\n    );\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nasync function renderWatchedMovies() {\n  moviesContainer.innerHTML = '';\n  queueButton.classList.remove('header__button--active');\n  watchedButton.classList.add('header__button--active');\n  if (watchedMovies.length != 0) {\n    emptyStorageScreen.style.display = 'none';\n  } else {\n    emptyStorageScreen.style.display = 'block';\n  }\n\n  const watchedMoviesDetails = await Promise.all(\n    watchedMovies.map(async id => await fetchSingleMovie(id))\n  );\n\n  renderMovieCards(watchedMoviesDetails, moviesContainer);\n}\n\nasync function renderQueueMovies() {\n  moviesContainer.innerHTML = '';\n  queueButton.classList.add('header__button--active');\n  watchedButton.classList.remove('header__button--active');\n  if (queueMovies.length != 0) {\n    emptyStorageScreen.style.display = 'none';\n  } else {\n    emptyStorageScreen.style.display = 'block';\n  }\n\n  const queueMoviesDetails = await Promise.all(\n    queueMovies.map(async id => await fetchSingleMovie(id))\n  );\n\n  renderMovieCards(queueMoviesDetails, moviesContainer);\n}\n\ndocument.addEventListener('DOMContentLoaded', renderWatchedMovies);\n\nconst watchedButton = document.querySelector('#watchedButton');\nconst queueButton = document.querySelector('#queueButton');\n\nwatchedButton.addEventListener('click', renderWatchedMovies);\nqueueButton.addEventListener('click', renderQueueMovies);\n\nmoviesContainer.addEventListener('click', fetchMovie);\n\nexport { renderWatchedMovies, renderQueueMovies };\n"],"names":["$2shzp","parcelRequire","$ada852ec106c23f4$var$moviesContainer","document","querySelector","$ada852ec106c23f4$var$watchedMovies","JSON","parse","localStorage","getItem","$ada852ec106c23f4$var$queueMovies","$ada852ec106c23f4$var$emptyStorageScreen","async","$ada852ec106c23f4$var$fetchSingleMovie","id","default","get","$N0Xej","options","data","error","console","$ada852ec106c23f4$export$6c30da9b026e03c4","innerHTML","$ada852ec106c23f4$var$queueButton","classList","remove","$ada852ec106c23f4$var$watchedButton","add","length","style","display","watchedMoviesDetails","Promise","all","map","$gLsAd","renderMovieCards","addEventListener","queueMoviesDetails","$5Jgp0","fetchMovie"],"version":3,"file":"library.2a535b25.js.map"}