{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,iEAKMC,EAAkBC,SAASC,cAAc,mBAE3CC,EAAgBC,KAAKC,MAAMC,aAAaC,QAAQ,oBAAsB,GACtEC,EAAcJ,KAAKC,MAAMC,aAAaC,QAAQ,kBAAoB,GAClEE,EAAqBR,SAASC,cAAc,kB,SAEjCQ,EAAiBC,G,OAAjBC,EAAgBC,MAAAC,KAAAC,U,UAAhBH,I,OAAAA,EAAfI,EAAAlB,EAAA,CAAAkB,EAAAC,GAAAC,MAAA,SAAAC,EAAgCR,G,IAEtBS,E,2FAAiBC,EAAAC,QAAMC,IAC3B,sCAAyCC,OAAHb,EAAG,mBACzCc,EAAAC,S,cAFIN,EAAQO,EAAAC,K,kBAIPR,EAASS,M,gCAEhBC,QAAQC,MAAKJ,EAAAK,I,0DARcnB,MAAAC,KAAAC,U,UAYhBkB,I,OAAAC,EAAmBrB,MAAAC,KAAAC,U,UAAnBmB,I,OAAAA,EAAflB,EAAAlB,EAAA,CAAAkB,EAAAC,GAAAC,MAAA,SAAAiB,I,IAUQC,E,yEATNpC,EAAgBqC,UAAY,GAC5BC,EAAYC,UAAUC,OAAO,0BAC7BC,EAAcF,UAAUG,IAAI,0BACA,GAAxBvC,EAAcwC,OAChBlC,EAAmBmC,MAAMC,QAAU,OAEnCpC,EAAmBmC,MAAMC,QAAU,Q,SAGFC,QAAQC,IACzC5C,EAAc6C,IAAG,W,MAAChC,EAAAlB,EAAA,CAAAkB,EAAAC,GAAAC,MAAA,SAAAC,EAAMR,G,kFAAYD,EAAiBC,G,mGAA7BA,G,gCAAP,K,OADbyB,EAAoBa,EAAArB,MAI1B,EAAAsB,EAAAC,kBAAiBf,EAAsBpC,G,2CAd1BkC,EAAmBrB,MAAAC,KAAAC,U,UAiBnBqC,I,OAAAA,EAAfpC,EAAAlB,EAAA,CAAAkB,EAAAC,GAAAC,MAAA,SAAAmC,I,IAUQC,E,yEATNtD,EAAgBqC,UAAY,GAC5BC,EAAYC,UAAUG,IAAI,0BAC1BD,EAAcF,UAAUC,OAAO,0BACL,GAAtBhC,EAAYmC,OACdlC,EAAmBmC,MAAMC,QAAU,OAEnCpC,EAAmBmC,MAAMC,QAAU,Q,SAGJC,QAAQC,IACvCvC,EAAYwC,IAAG,W,MAAChC,EAAAlB,EAAA,CAAAkB,EAAAC,GAAAC,MAAA,SAAAC,EAAMR,G,kFAAYD,EAAiBC,G,mGAA7BA,G,gCAAP,K,OADX2C,EAAkBC,EAAA3B,MAIxB,EAAAsB,EAAAC,kBAAiBG,EAAoBtD,G,2CAdxBoD,EAAiBvC,MAAAC,KAAAC,U,CAiBhCd,SAASuD,iBAAiB,mBAAoBvB,GAE9C,IAAMQ,EAAgBxC,SAASC,cAAc,kBACvCoC,EAAcrC,SAASC,cAAc,gBAE3CuC,EAAce,iBAAiB,QAASvB,GACxCK,EAAYkB,iBAAiB,S,kBAvBdJ,EAAiBvC,MAAAC,KAAAC,U,IAyBhCf,EAAgBwD,iBAAiB,QAASC,EAAAC,W","sources":["src/js/library-functionality.js"],"sourcesContent":["import axios from 'axios';\nimport { options } from './options.js';\nimport { renderMovieCards } from './render-movies.js';\nimport { fetchMovie } from './fetch-movie.js';\n\nconst moviesContainer = document.querySelector('.movies-gallery');\n\nlet watchedMovies = JSON.parse(localStorage.getItem('movies-Watched')) || [];\nlet queueMovies = JSON.parse(localStorage.getItem('movies-Queue')) || [];\nlet emptyStorageScreen = document.querySelector('.section-empty');\n\nasync function fetchSingleMovie(id) {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/movie/${id}?language=en-US`,\n      options\n    );\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nasync function renderWatchedMovies() {\n  moviesContainer.innerHTML = '';\n  queueButton.classList.remove('header__button--active');\n  watchedButton.classList.add('header__button--active');\n  if (watchedMovies.length != 0) {\n    emptyStorageScreen.style.display = 'none';\n  } else {\n    emptyStorageScreen.style.display = 'block';\n  }\n\n  const watchedMoviesDetails = await Promise.all(\n    watchedMovies.map(async id => await fetchSingleMovie(id))\n  );\n\n  renderMovieCards(watchedMoviesDetails, moviesContainer);\n}\n\nasync function renderQueueMovies() {\n  moviesContainer.innerHTML = '';\n  queueButton.classList.add('header__button--active');\n  watchedButton.classList.remove('header__button--active');\n  if (queueMovies.length != 0) {\n    emptyStorageScreen.style.display = 'none';\n  } else {\n    emptyStorageScreen.style.display = 'block';\n  }\n\n  const queueMoviesDetails = await Promise.all(\n    queueMovies.map(async id => await fetchSingleMovie(id))\n  );\n\n  renderMovieCards(queueMoviesDetails, moviesContainer);\n}\n\ndocument.addEventListener('DOMContentLoaded', renderWatchedMovies);\n\nconst watchedButton = document.querySelector('#watchedButton');\nconst queueButton = document.querySelector('#queueButton');\n\nwatchedButton.addEventListener('click', renderWatchedMovies);\nqueueButton.addEventListener('click', renderQueueMovies);\n\nmoviesContainer.addEventListener('click', fetchMovie);\n\nexport { renderWatchedMovies, renderQueueMovies };\n"],"names":["$bpxeT","parcelRequire","$c30a4b66bff2db2d$var$moviesContainer","document","querySelector","$c30a4b66bff2db2d$var$watchedMovies","JSON","parse","localStorage","getItem","$c30a4b66bff2db2d$var$queueMovies","$c30a4b66bff2db2d$var$emptyStorageScreen","$c30a4b66bff2db2d$var$fetchSingleMovie","id","$c30a4b66bff2db2d$var$_fetchSingleMovie","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","response","$dIxxU","default","get","concat","$i0xjD","options","_ctx","sent","data","console","error","t0","$c30a4b66bff2db2d$export$6c30da9b026e03c4","$c30a4b66bff2db2d$var$_renderWatchedMovies","_callee1","watchedMoviesDetails","innerHTML","$c30a4b66bff2db2d$var$queueButton","classList","remove","$c30a4b66bff2db2d$var$watchedButton","add","length","style","display","Promise","all","map","_ctx1","$hDcu4","renderMovieCards","$c30a4b66bff2db2d$var$_renderQueueMovies","_callee2","queueMoviesDetails","_ctx2","addEventListener","$hXsLy","fetchMovie"],"version":3,"file":"library.a5633fe3.js.map"}